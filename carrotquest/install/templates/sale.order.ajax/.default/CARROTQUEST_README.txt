Так как в исходном шаблоне sale.order.ajax меняется далеко не все, пропишу здесь список изменений.
i) Файл "summary.php":
	1) В строке 10 добавлена реакция на отображение данного template-а как часть предзаказа.
	2) В строке 388 добавлено поле, в котором выводится размер скидки carrotquest
ii) Добавлен файл result_modifier.php, который модифицирует данные заказа перед выводом в шаблон
iii) В файле confirm.php добавлен код обработки оформления заказа через javascript